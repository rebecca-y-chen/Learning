<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>八大行星自轉/公轉</title>
<style>
  body { 
    margin:0; 
    background:radial-gradient(ellipse at top, #0d1b2a, #000 80%); 
    color:#fff; 
    font-family:"Chiron GoRound TC", sans-serif; 
  }

  h1 { 
    text-align:center; 
    margin:40px 0; 
    font-size:36px;
    font-weight:700;
    letter-spacing:3px;  
    text-shadow:0 0 12px rgba(0,255,255,0.4);
  }

  h2 { 
    text-align:center; 
    margin:20px 0 10px; 
    font-size:22px;
    letter-spacing:2px;  
    text-shadow:0 0 8px rgba(0,255,255,0.3);
  }

  .hint { 
    text-align:center; 
    font-size:14px;
    letter-spacing:1px;  
    color:#bbb; 
    margin-bottom:20px; 
  }

  section { 
    margin:0 auto;  
    max-width:1200px; 
    padding:30px 20px; 
    box-sizing:border-box;
  }

  /* ---- 卡片容器 ---- */
  .row, .col {
    background: rgba(255, 255, 255, 0.08);
    backdrop-filter: blur(18px);
    border-radius: 16px;
    border: 1px solid rgba(255, 255, 255, 0.2);
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    padding: 24px;
  }

  /* 一排行星 */
  .row { 
    display:flex; 
    flex-wrap:wrap; 
    justify-content:center; 
    gap:20px; 
    margin:20px 0;
  }

  .planet { 
    flex:1 1 120px; 
    max-width:140px; 
    text-align:center; 
  }

  .planet canvas { 
    display:block; 
    margin:0 auto; 
  }

  .planet .name { 
    display:block;
    font-size:20px;
    font-weight:700; 
    margin-top:15px; 
    letter-spacing:2px; 
    text-shadow:0 0 6px rgba(0,255,255,0.6);
  }

  .planet .meta { 
    font-size:13px; 
    color:#d0d0d0; 
    line-height:1.5; 
    margin-top:10px; 
  }

  /* 兩欄 */
  .two-col { 
    margin:60px auto; 
    display:flex; 
    gap:20px; 
  }
  .col { flex:1; }

  /* tooltip */
  #tooltip {
    position: absolute;
    background: rgba(20,20,30,0.95);
    color: #fff;
    padding: 16px 18px;
    border-radius: 12px;
    font-size: 15px;
    line-height: 1.6;
    pointer-events: none;
    max-width: 320px;
    display: none;
    box-shadow: 0 0 16px rgba(0,255,255,0.4);
    z-index: 999;
  }
  #tooltip b {
    display:block;
    font-size:24px;
    margin-bottom:10px;
    letter-spacing:2px;
    text-shadow:0 0 6px rgba(0,255,255,0.6);
  }
  #tooltip img {
    display:block;
    width:100%;
    border-radius:6px;
    margin:10px 0;
  }
  #tooltip .desc {
    display:block;
    background: rgba(0, 128, 255, 0.25);
    color: #aeefff;
    font-size: 15px;
    padding: 6px 8px;
    border-radius: 6px;
    margin-top:6px;
  }
  #tooltip button {
    display:block;
    margin:12px auto 0;
    padding:8px 14px;
    border:none;
    border-radius:8px;
    background:linear-gradient(135deg,#0080ff,#00c6ff);
    color:#fff;
    font-size:15px;
    cursor:pointer;
  }

  /* ---- 手機版 ---- */
  @media(max-width:768px){
    section {
      width:100%;
      max-width:100%;
      padding:20px 12px;
    }
    .two-col { 
      flex-direction:column; 
      gap:20px; 
      width:100%;
    }
    .col { width:100%; }
    .row { width:100%; justify-content:space-between; }
    .planet { flex:1 1 25%; max-width:25%; }
    .row canvas, .col canvas {
      max-width:100%;
      height:auto;
    }
    #tooltip {
      position: fixed;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      max-width: 90%;
      max-height: 70%;
      overflow-y: auto;
      pointer-events: auto;
    }
  }
</style>
</head>
<body>

<h1>《八大行星》</h1>

<!-- 第一段 -->
<section>
  <h2>公轉與自轉</h2>
  <div class="row" id="row"></div>
</section>

<!-- 第二段 -->
<section class="two-col">
  <div class="col">
    <h2>公轉與自轉｜速度模擬器</h2>
    <div class="hint">移動滑桿，試著找到『一年比一天還要快的行星是誰?』</div>
    <canvas id="sky1" width="400" height="400"></canvas>
    <div class="control-group">
      <label>公轉速度（慢→快）</label>
      <input type="range" id="orbit" min="0" max="7" step="1" value="5">
      <div class="scale" id="orbitLabels"></div>
    </div>
    <div class="control-group">
      <label>自轉速度（慢→快）</label>
      <input type="range" id="spin" min="0" max="7" step="1" value="3">
      <div class="scale" id="spinLabels"></div>
    </div>
    <div class="info" id="info1"></div>
  </div>

  <div class="col">
    <h2>八大行星</h2>
    <div class="hint">滑鼠移動或點擊行星，看「一天」和「一年」的真實長度。</div>
    <div class="canvas-wrap">
      <canvas id="sky2" width="500" height="500"></canvas>
    </div>
  </div>
</section>

<div id="tooltip"></div>

<script>
/* ========= 判斷手機 ========= */
function checkMobile() {
  return window.matchMedia("(max-width:768px)").matches;
}

/* ========= Tooltip 函式 ========= */
const tooltip=document.getElementById('tooltip');
let currentHit=null;

function showTooltip(hit, x, y){
  if(!checkMobile()){
    tooltip.style.display="block";
    tooltip.innerHTML=`
      <b>${hit.n}</b>
      一天 ≈ ${hit.day} 小時<br>
      一年 ≈ ${hit.year} 地球日<br>
      <img src="${hit.img}" alt="${hit.n}">
      <span class="desc">${hit.desc}</span>
    `;
    tooltip.style.left=(x+15)+"px";
    tooltip.style.top=(y+15)+"px";
    tooltip.style.transform="";
  }else{
    tooltip.style.display="block";
    tooltip.innerHTML=`
      <b>${hit.n}</b>
      一天 ≈ ${hit.day} 小時<br>
      一年 ≈ ${hit.year} 地球日<br>
      <img src="${hit.img}" alt="${hit.n}">
      <span class="desc">${hit.desc}</span>
      <button id="closeTip">關閉</button>
    `;
    tooltip.style.left="50%";
    tooltip.style.top="50%";
    tooltip.style.transform="translate(-50%,-50%)";
    document.getElementById("closeTip").onclick=()=>{
      tooltip.style.display="none";
      currentHit=null;
    };
  }
}
</script>

</body>
</html>